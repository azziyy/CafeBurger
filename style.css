/* GLOBAL */
:root {
    --bg: #09090b; --card: #1c1c1e; --text: #fff; --sub: #a1a1aa;
    --gold: #FFD700; --red: #ef4444; --green: #22c55e; --blue: #3b82f6;
    --glass: rgba(28,28,30,0.95); --border: 1px solid rgba(255,255,255,0.08);
}
* { box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; user-select: none; }
body { margin: 0; background: var(--bg); color: var(--text); font-family: -apple-system, sans-serif; padding-bottom: 90px; }

/* UTILS */
.tap { transition: 0.1s; cursor: pointer; } .tap:active { transform: scale(0.95); opacity: 0.7; }
.hidden { display: none !important; }
.page-cont { display: none; padding-top: 65px; animation: fadeIn 0.3s; }
.page-cont.active { display: block; }
@keyframes fadeIn { from{opacity:0;transform:translateY(10px)} to{opacity:1;transform:translateY(0)} }
@keyframes slideUp { from{transform:translateY(100%)} to{transform:translateY(0)} }

/* DRAWER (Tuzatilgan) */
.drawer-overlay { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); z-index:9000; display:none; }
.drawer-panel { position:fixed; top:0; left:-85%; width:85%; height:100%; background:var(--card); z-index:9001; transition:0.3s; padding:40px 25px; display:flex; flex-direction:column; box-shadow:10px 0 50px black; }
.drawer-panel.active { left:0; }
.d-header { margin-bottom:30px; padding-bottom:20px; border-bottom:var(--border); }
.d-header h2 { margin:0; color:var(--gold); } .d-header p { margin:5px 0 0; color:var(--sub); font-size:13px; }

/* DRAWER ITEMS (Vertical Center) */
.d-item {
    display: flex; align-items: center; gap: 15px; /* Icon va matn orasi */
    padding: 15px; margin-bottom: 10px; background: rgba(255,255,255,0.03);
    border-radius: 15px; font-weight: 600; border: var(--border);
}
.d-icon { width: 30px; display: flex; justify-content: center; font-size: 20px; }
.d-icon.red { color: var(--red); } .d-icon.blue { color: var(--blue); } .d-icon.green { color: var(--green); } .d-icon.gold { color: var(--gold); }
.arrow { margin-left: auto; color: var(--sub); font-size: 14px; }
.d-footer { margin-top: auto; color: var(--red); font-weight: bold; padding: 15px; text-align: center; border: 1px solid rgba(239,68,68,0.2); border-radius: 15px; }

/* HEADER */
.header { position:fixed; top:0; width:100%; height:60px; background:var(--glass); backdrop-filter:blur(10px); z-index:5000; display:flex; align-items:center; justify-content:space-between; padding:0 20px; border-bottom:var(--border); }
.logo { font-size:22px; font-weight:900; } .logo span { color:var(--gold); }
.chat-wrap { position:relative; padding:5px; }
.badge-dot { position:absolute; top:0; right:0; width:10px; height:10px; background:var(--red); border-radius:50%; display:none; }
.badge-dot.active { display:block; }

/* STORIES */
.stories-wrap { display:flex; gap:12px; padding:10px 15px; overflow-x:auto; scrollbar-width:none; margin-bottom: 10px; }
.story-c { min-width:76px; height:76px; border-radius:50%; padding:3px; background:linear-gradient(45deg,#f09433,#cc2366); }
.story-c img { width:100%; height:100%; border-radius:50%; border:3px solid var(--bg); object-fit:cover; }

/* MENU & CARDS */
.cat-bar { display:flex; gap:10px; overflow-x:auto; padding:0 15px 15px; position:sticky; top:60px; z-index:4000; background:var(--bg); scrollbar-width:none; }
.cat-pill { padding:8px 22px; background:var(--card); border-radius:25px; border:var(--border); color:var(--sub); font-weight:600; white-space:nowrap; }
.cat-pill.active { background:var(--gold); color:#000; border-color:var(--gold); }

.grid { display:grid; grid-template-columns:1fr 1fr; gap:15px; padding:0 15px 20px; }
.card { background:var(--card); border-radius:18px; overflow:hidden; position:relative; border:var(--border); display:flex; flex-direction:column; }
.card-img { width:100%; height:160px; object-fit:cover; } /* TO'LIQ RASM */
.card-body { padding:12px; flex:1; display:flex; flex-direction:column; }
.card-title { font-weight:700; font-size:15px; height:40px; overflow:hidden; margin-bottom:5px; line-height:1.3; }
.card-foot { margin-top:auto; display:flex; justify-content:space-between; align-items:center; }
.card-price { color:var(--gold); font-weight:900; font-size:15px; }

/* Card Buttons */
.btn-mini { width:32px; height:32px; background:var(--gold); color:#000; border-radius:10px; display:flex; align-items:center; justify-content:center; font-size:18px; font-weight:bold; }
.qty-mini { display:flex; align-items:center; gap:8px; background:rgba(255,255,255,0.1); padding:4px 8px; border-radius:10px; border:1px solid var(--gold); }
.fav-abs { position:absolute; top:10px; right:10px; width:30px; height:30px; background:rgba(0,0,0,0.6); border-radius:50%; display:flex; align-items:center; justify-content:center; z-index:2; color:white; }
.fav-abs.active { background:white; color:var(--red); }

/* SAVAT (CAPSULE STYLE) */
.page-title { padding:0 20px; margin-bottom:20px; font-size:24px; }
.list-container { padding:0 20px; }
.cart-item { background:var(--card); padding:10px; border-radius:16px; margin-bottom:12px; display:flex; align-items:center; gap:15px; border:var(--border); }
.cart-img { width:65px; height:65px; border-radius:12px; object-fit:cover; flex-shrink:0; }
.cart-info { flex:1; }
.cart-info h4 { margin:0 0 5px; font-size:15px; }
.cart-info p { margin:0; color:var(--gold); font-weight:600; font-size:13px; }

/* Yangi +/- Dizayni */
.cart-capsule { display:flex; align-items:center; background:#2a2a2a; border-radius:50px; padding:2px; border:1px solid #333; }
.capsule-btn { width:30px; height:30px; border-radius:50%; background:#333; color:white; display:flex; align-items:center; justify-content:center; font-size:16px; font-weight:bold; }
.capsule-val { width:25px; text-align:center; font-weight:bold; font-size:14px; }

.cart-footer { padding:20px; padding-bottom:120px; }
.promo-box { display:flex; gap:10px; background:var(--card); padding:10px; border-radius:15px; border:var(--border); margin-bottom:15px; }
.promo-box input { flex:1; background:transparent; border:none; color:white; padding:5px; font-size:16px; text-transform:uppercase; }
.total-row { display:flex; justify-content:space-between; font-size:20px; font-weight:900; margin-bottom:20px; }
.btn-main { width:100%; padding:16px; background:var(--gold); color:#000; font-weight:800; border:none; border-radius:18px; font-size:16px; margin-top:10px; }
.btn-gps { width:100%; padding:14px; background:#333; color:white; border-radius:18px; margin-bottom:10px; border:1px solid #444; font-weight:600; }
.btn-gps.ok { background:var(--green); border-color:var(--green); }
.btn-gps.err { background:var(--red); border-color:var(--red); }

/* TARIX & STATUS */
.hist-card { background:var(--card); padding:20px; border-radius:18px; margin-bottom:15px; border-left:5px solid; position:relative; }
.h-head { display:flex; justify-content:space-between; margin-bottom:10px; color:var(--sub); font-size:13px; }
.st-pill { padding:5px 12px; border-radius:8px; font-weight:900; font-size:11px; text-transform:uppercase; }
/* Ranglar */
.s-new { border-color:var(--blue); } .s-new .st-pill { background:rgba(59,130,246,0.2); color:var(--blue); }
.s-cook { border-color:orange; } .s-cook .st-pill { background:rgba(255,165,0,0.2); color:orange; }
.s-deliv { border-color:var(--gold); } .s-deliv .st-pill { background:rgba(255,215,0,0.2); color:var(--gold); }
.s-done { border-color:var(--success); } .s-done .st-pill { background:rgba(34,197,94,0.2); color:var(--success); }

/* Premium Track Button */
.track-btn { width:100%; padding:12px; background:linear-gradient(45deg, #FFD700, #FFA500); color:black; font-weight:800; border-radius:12px; margin-top:15px; border:none; box-shadow:0 4px 15px rgba(255,215,0,0.3); }

/* PROFIL */
.prof-head { text-align:center; padding:40px 0; background:linear-gradient(180deg, rgba(255,215,0,0.1), transparent); }
.avatar { width:100px; height:100px; background:var(--card); border:3px solid var(--gold); border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:40px; color:var(--gold); margin:0 auto 15px; }
.prof-list { padding:0 20px; }

/* MODALS */
.modal-wrap { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.85); z-index:8000; display:none; align-items:flex-end; justify-content:center; backdrop-filter:blur(5px); }
.sheet { background:#1c1c1e; width:100%; max-width:500px; border-radius:30px 30px 0 0; padding:25px; animation:slideUp 0.3s; border-top:1px solid rgba(255,255,255,0.1); max-height:85vh; overflow-y:auto; }
.h-90 { height:90vh; }
.sheet-head { display:flex; justify-content:space-between; margin-bottom:20px; font-size:20px; font-weight:bold; }
.sheet-close { font-size:24px; color:var(--sub); cursor:pointer; }

/* Product Sheet */
#pmImg { width:100%; height:250px; object-fit:cover; border-radius:15px; margin-bottom:15px; }
.sheet-body h2 { margin:0 0 5px; }
.sheet-body h3 { color:var(--gold); margin:0 0 15px; }
.sheet-body p { color:var(--sub); line-height:1.5; margin-bottom:25px; }
.sheet-actions { display:flex; justify-content:space-between; align-items:center; }
.qty-pill { display:flex; gap:15px; background:rgba(255,255,255,0.05); padding:10px 20px; border-radius:15px; align-items:center; font-size:20px; font-weight:bold; }

/* Chat (Bubble Style) */
#chatBox { flex:1; overflow-y:auto; background:rgba(0,0,0,0.2); border-radius:15px; padding:15px; margin-bottom:15px; min-height:300px; }
.chat-bubble { padding:12px 16px; border-radius:18px; max-width:80%; margin-bottom:10px; font-size:14px; line-height:1.4; position:relative; }
.me { background:var(--gold); color:black; align-self:flex-end; border-bottom-right-radius:4px; margin-left:auto; }
.adm { background:#333; color:white; align-self:flex-start; border-bottom-left-radius:4px; }
.chat-input { display:flex; gap:10px; }
.chat-input input { flex:1; background:rgba(255,255,255,0.1); border:none; padding:15px; border-radius:15px; color:white; }
.chat-input button { width:50px; background:var(--gold); border:none; border-radius:15px; font-size:18px; }

/* Fav Grid */
.grid-fav { display:grid; grid-template-columns:1fr 1fr 1fr; gap:10px; }
.fav-item { background:rgba(255,255,255,0.05); padding:8px; border-radius:12px; text-align:center; position:relative; }
.fav-item img { width:100%; height:60px; object-fit:cover; border-radius:8px; margin-bottom:5px; }
.fav-x { position:absolute; top:-5px; right:-5px; background:var(--red); color:white; width:22px; height:22px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:12px; }

/* Login */
.modal-fs { position:fixed; top:0; left:0; width:100%; height:100%; background:var(--bg); z-index:9999; display:none; align-items:center; justify-content:center; }
.login-box { text-align:center; width:85%; }
.login-icon { width:80px; height:80px; background:var(--blue); border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:40px; color:white; margin:0 auto 20px; box-shadow:0 0 30px rgba(59,130,246,0.4); }

/* Map */
#mapModal { background:#fff; z-index:9500; }
#map { width:100%; height:100%; }
.map-back { position:absolute; top:40px; left:20px; z-index:9501; padding:10px 20px; border:none; background:white; font-weight:bold; border-radius:20px; box-shadow:0 5px 15px rgba(0,0,0,0.2); }

/* Story Viewer */
#storyViewer { position:fixed; top:0; left:0; width:100%; height:100%; background:#000; z-index:10000; display:none; flex-direction:column; }
.s-bars { position:absolute; top:10px; left:10px; right:10px; display:flex; gap:5px; z-index:100; }
.s-close { position:absolute; top:25px; right:20px; font-size:30px; color:white; z-index:101; cursor:pointer; }
.s-img { width:100%; height:100%; object-fit:contain; }
.s-left, .s-right { position:absolute; top:0; height:100%; width:40%; z-index:100; }
.s-left { left:0; } .s-right { right:0; }

/* Navbar */
.navbar { position:fixed; bottom:0; width:100%; height:75px; background:var(--glass); display:flex; justify-content:space-around; align-items:center; border-radius:25px 25px 0 0; z-index:4500; border-top:var(--border); }
.nav-item { display:flex; flex-direction:column; align-items:center; color:var(--sub); font-size:10px; font-weight:700; transition:0.3s; }
.nav-item i { font-size:24px; margin-bottom:5px; }
.nav-item.active { color:var(--gold); transform:translateY(-5px); }

#toastBox { position:fixed; top:20px; left:20px; right:20px; z-index:10000; pointer-events:none; }
.toast { background:rgba(30,30,30,0.95); color:white; padding:15px; border-radius:12px; border-left:4px solid var(--gold); margin-bottom:10px; animation:fadeIn 0.3s; }
